/* section spacing */
section{
	overflow:hidden;

	&.standard-spacing-margin{
		margin-bottom:5rem;
	}
	&.standard-spacing-padding{
		padding-bottom:5rem;
	}
	&.reduced-spacing-margin{
		margin-bottom:3rem;
	}
	&.reduced-spacing-padding{
		padding-bottom:3rem;
	}
	&.widget{
		overflow: visible;
	}

}

/* equal height rows */
.home-tiles{
	display: grid;
	grid-auto-rows: 1fr;
	text-align: center;
}

.home-tile{
	/* add space between elements */
	display: grid;
	justify-content: space-between;
	gap: 1em;
	grid-template-rows: auto 1fr 15em;

	/* remove default container margin */
	.container{
		margin: 0 auto;
	}

	/* restore auto margin on last item */
	.container:last-child{
		margin: auto;
	}
}

/* style hero section */
.hero{
	position: relative;
	color: white;
}

/* center and crop hero */
.hero-container{
	height: 300px;
	overflow: hidden;
	display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
}

/* position overlay on bottom */
.hero-overlay{
	position: absolute;
	bottom: 0px;
	width: 100%;
	margin-bottom: 2em;

	/* center and space items */
	.container{
		display: flex;
		justify-content: space-between;
		gap: 1em;

		/* add green line to left of text */
		.left-half{
			max-width:55ch;
			padding-left: 1em;
		    border-left: 3px solid #01916d;
		}
		.right-half p{
			text-align:right;
			margin:0;
		}
	}


	/* center items vertically */
	.container > *{
		display:flex;
		flex-direction: column;
    	justify-content: center;
    	> *{
    		margin:0;
    	}
	}
}

/* discover block */
.discover-block .container{
	background-size:cover;
	color:white;
	overflow:hidden;
	padding:1rem;
	margin:auto;
}

/* style header block */
.header-block{
	max-width:55ch;
	margin:auto;
	text-align:center;
	margin-bottom:3rem;
	
	> * {
		margin:0;
	}

	h1, h2, h3{
		margin-bottom: .25em;
	}

}


/* timeline carousel */
.timeline-carousel {
	overflow: hidden;

	/* full height items */
	.owl-stage {
	    display: flex;
	    .owl-item {
			display: flex;
			flex: 1 0 auto;			
			.owl-content{
				display: flex;
				width:100%;
				.split{
					width:100%;				
				}
			}
	    }
	}

	.owl-carousel .owl-item .split{
		
		/* add spacing */
		gap:2em;
		> *{
			/* center vertically */
			display:flex;			
			justify-content: center;
			flex-direction: column;

			/* keep content from exceeding width and height restraints */
			> div {
				max-width:504px;
				max-height:294px;
				width:99%;
			}

			/* constrain image size */
			img{
				width:auto;
				height:auto;
				max-width:504px;
				max-height:294px;
				margin:auto;
			}
		}

		/* center image horizontally */
		> *:last-child{
			align-items:center;
		}

	}


	.owl-theme .owl-dots {


		display:flex;
		align-items:center;
		justify-content: center;
		gap:1em;
		position: relative;
		transition: left .25s;

		/* line behind dots */
		&:after {
		  position: absolute;
		  left: -150%;
		  top: 13px;
		  height: 1px;
		  background: #000;
		  content: "";
		  width: 400%;
		  display: block;
		  z-index:-1;
		}
		.owl-dot{
			display:flex;
			align-items:center;
			flex-direction: column;
			flex-basis:100%;
			font-weight:700;
			span{
				width:16px;
				height:16px;
				background:white;
				border:1px solid #000;
				transition: transform .25s;
			}
			&.active span{
				transform: scale(1.5);
				background: $color__accent;
			}			
			&:hover span{				
				background: $color__accent;
			}

		}
	}
}

/* reverse column order */
.split.column-reverse{
	flex-direction:column-reverse;
}

.embedded-video {
	position: relative;
	padding-bottom: 56.25%; 
	width:100%;

	iframe{
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
	}
}

/* mini hero */
.mini-hero{
	.hero-container{
		/* set a minimum height */
		max-height:180px;		
	}
	.hero-overlay{
		/* override margin-bottom and top position */
		margin-bottom:0;
		top:0;

		/* make height 100% */		
		height:100%;

		/* make height 100% */
		.container{
			/* make height 100% */
			height:100%;

			.header-block {
				/* override margins */
				margin:auto;
			}
		}
	}

	

}


/* icon descriptions */
.icon-descriptions{	
	.split{
		/* 2 columns */
		display:grid;
		grid-template-columns:1fr 1fr;		
		gap:2em 1em;

		/* wrapping div */
		> *{
			text-align:center;

			/* inner div */
			> div{		
				max-width: 28ch;
			    margin: auto;			    

			    /* increase font size of icon */
			    svg,i{
					font-size:2.5rem;
				}

				/* remove margins */
				> *{
					margin:0;
				}
				h3{
					margin:.5em 0;
				}
				p{
					margin:.75em 0;
				}
				.cta{
					text-transform: uppercase;
				}
			}
			

		}
	}
}


/* team members */
.team-members{
	display:grid;
	grid-template-columns:1fr;
	gap:4em 10vw;
	> .content-wrap{		
		position:relative;		
		padding-top:3em;

		> img{
			position:absolute;
			left:50%;
			top:0;
			z-index:1;
		    transform: translateX(-50%);

		}
		.content{
			
			background:$color__lightgrey;
			padding:2em;
			padding-top:160px;
			position:relative;		
			height:100%;

			p{
				font-size:.875rem;
				line-height:1;
			}
			h2,h3,h4{
				margin:0;
			}

			.container {
				display: flex;
				flex-direction: column;
				height:100%;

				/*bottom align button*/
				> *:last-child{
					margin-top:auto;
				}

			}
		}
	}
}


/* mapsvg container */
.mapsvg-container{
	background: $color__lightgrey;
	padding-top:2rem;
}


/* Products */
.product-category-filter {

	
	.buttons{
		margin-bottom:2em;
	}
	
	.button{
		flex:0 0 auto;
		height:3em;
		/*width:15em;*/
		display: flex;
		justify-content: center;
		align-items:center;
		padding:2em;
		line-height:1;
	}

	.button:hover{
		background: $color__accent;
		border: 1px solid $color__accent;
		color:white !important;
	}

	.button:not(.active){
		background:$color__darkgrey;
		border-color:$color__darkgrey;
	}

	.buttons.underlined-category-filter {
		display:flex;
		justify-content: center;
		gap:1em;
		flex-wrap:wrap;

		.button{
			width:15em;
			background:white;	
			border:none;
			border-bottom: 3px solid $color__accent;
			color:black !important;
			padding:0 3em;			
		}

		.button:not(.active){
			color:$color__darkgrey !important;
			border-bottom-color:$color__darkgrey;

		}

	}

	.products-container-inner{
		display:grid;
		grid-template-columns: 1fr 1fr;
		gap:1.5em;

		.product{
			background:$color__lightgrey;
			padding:1em 1em;
			overflow: hidden;
			display:flex;
			flex-direction: column;
			cursor:pointer;

			img{
				display: block;
				margin:auto;
				margin-bottom:2em;
			}

			.info {				
				line-height:1;				
				text-align:center;
				&:first-child{
					margin-bottom:1.5em;
				}
				&:last-child{
					margin-top:auto;
				}
				* {
					margin:0;					
				}
				.cta{
					font-weight:bold;
					font-size:1.125rem;
					display:inline-block;
				}
			}
		}
	}


}

/* Modals */
.modal{
	position:fixed;
	top:0;
	left:0;
	width:100%;
	height:100%;
	background:rgba(0,0,0,.5);
	display:flex;
	align-items: center;
	justify-content: center;
	color:white;
	z-index:101;
	overflow: scroll;

	.modal-content{
		background: rgb(1,145,109);
		background: radial-gradient(circle, rgba(1,145,109,1) 0%, rgba(0,0,0,1) 82%);
		position: relative;
		padding:1em;
		>*{
			margin:0;
			margin-bottom:1rem;
			&:last-child{
				margin-bottom:0;
			}
		}
		img{			
			padding:1em;
			margin: 0 auto 2rem;
    		display: block;
		}
		.close{
			position: absolute;
			top:0;
			right:0;
			padding:.15em .5em;
			cursor:pointer;
			font-size:1.5rem;
		}
		.bullets{
			display:grid;
			grid-template-columns:1fr 1fr 1fr;

			> div{
				border-right:2px solid $color__accent;
				text-align:center;
				padding:0 1em;
				&:last-child{
					border-right:none;
				}
			}
		}
		.buttons{
			display:flex;
			justify-content: space-between;
			.cta{
				font-size:.75rem;
			}
		}

	}
}




/* desktop styles */
@media(min-width:$breakpoint_mobile){

	.modal .modal-content{
		padding:2em;
		.bullets{
			display:block;
			> div{
				display:inline;
				&:first-child{
					padding-left:0;
				}
			}
		}
		.desktop-columns{
			display:flex;
			flex-direction:row;
			gap:3em;
		}
		.buttons{
			flex-direction:column;
			justify-content: center;			
			gap:1em;
			.button{
				display:block;
				width:13em;
			}
		}
	}

	.hero-container{
		height:88vh;
	}

	/* Products */
	.product-category-filter {	
		.header.split{
			>:first-child{
				flex-basis:65%;
				display: flex;
				align-items:center;
				>:first-child{
					max-width: 23em;
					margin: auto;
					padding: 0 2em;
				}
			}
			img{
				margin:auto;
				display:block;
			}
		}
		.products-container-inner{
			.product{
				padding:1.5em 2em;
				img{
					padding:0 3em;
				}
				.info{
					text-align:left;
					margin-bottom:0;
					* {					
						float:left;
					}
					.cta{
						float:right;

					}
				}
			}
		}
	}

	/* mapsvg container */
	.mapsvg-container{
		padding:3rem 0 5rem 0;

		.map-wrapper{
			max-width:80em;
			margin:auto;
			max-width:90%;
		}
	}

	/* team members */
	.team-members{
		display:grid;
		grid-template-columns:1fr 1fr;	
	}

	/* icon descriptions */
	.icon-descriptions{	
		.split{
			/* 4 columns */
			display:grid;
			grid-template-columns:1fr 1fr 1fr 1fr;		
			&.two-column-grid{
				grid-template-columns:1fr 1fr;
			}
		}

	}


	/* mini hero */
	.mini-hero{
		.hero-container{
			/* set a minimum height */
			max-height:357px;
		}
	}

	/* switch tiles to equal width columns */
	.home-tiles{
		grid-template-columns: 1fr 1fr;
	}

	/* align text on tiles */
	.home-tile {
		&:nth-child(odd) :first-child{
			text-align: left;
		}

		&:nth-child(even) :first-child{
			text-align: right;
		}
	}

	/* reverse rows on each odd teaser */
	.teasers .split{
		flex-direction:row;
		&:nth-child(odd){
			flex-direction: row-reverse;
			> div:last-child{
				display:flex;
				> img{
					margin-right:auto;
				}
			}
		}
		&:nth-child(even){
			
			> div:last-child{
				display:flex;
				> img{
					margin-left:auto;
				}
			}
		}
	
		> *{		

			/* spacing on text container*/
			&:first-child {
				display:flex;
				align-items:center;
				justify-content: center;

				> div{
					max-width:40ch; 
					margin:auto;
					width:90%;
				}		
			}
		}
	}
}